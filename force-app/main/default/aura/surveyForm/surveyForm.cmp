<aura:component controller="surveyForm" implements="flexipage:availableForRecordHome">
    <aura:attribute name="recordId" type="String"/>
    <aura:attribute name="surveyName" type="String"/>
    <aura:attribute name="questionswithAnswers" type="Object[]"/>

    <aura:handler name="init" value="{!this}" action="{!c.init}"/>

    <lightning:input value="{!v.surveyName}" readonly="true"/>

    <aura:iteration items="{!v.questionswithAnswers}" var="question">
        <lightning:input value="{!question.Name__c}" readonly="true"/>
        <aura:iteration items="{!question.Answers__r.records}" var="answer">
            <lightning:input type="checkbox" checked="{!answer.isChecked}" label="{!answer.Name__c}"/>
        </aura:iteration>
    </aura:iteration>
    <div class="slds-container slds-container_fluid slds-text-align_right  slds-p-top_medium">
        <lightning:button label="Submit Survey" value="Submit Survey" variant="neutral" onclick="{!c.submitSurvey}"/>
    </div>
</aura:component>	